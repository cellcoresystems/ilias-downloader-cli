group 'com.github.thetric.iliasdownloader'

repositories {
    jcenter()
}

buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'net.saliman:gradle-cobertura-plugin:2.4.0'
    }
}

subprojects {
    apply plugin: 'groovy'

    sourceCompatibility = 1.8
    targetCompatibility = 1.8

    version '1.0.1'
    jar.baseName = 'ilias-downloader'
    jar.appendix = it.name

    dependencies {
        compile 'org.codehaus.groovy:groovy:2.4.10'

        // logging libs
        compile 'org.apache.logging.log4j:log4j-core:2.8.1'

        // test
        testCompile 'org.spockframework:spock-core:1.1-groovy-2.4-rc-4'
        testCompile 'net.bytebuddy:byte-buddy:1.6.12'
        testRuntime 'org.slf4j:slf4j-api:1.7.25'
    }

    apply from: rootProject.file('config/gradle/coverage.gradle')

    repositories {
        jcenter()
        maven { url "https://jitpack.io" }
        maven { url 'https://oss.sonatype.org/content/repositories/ksoap2-android-releases' }
    }

    tasks.withType(GroovyCompile) {
        groovyOptions.optimizationOptions.indy = true
    }
}
